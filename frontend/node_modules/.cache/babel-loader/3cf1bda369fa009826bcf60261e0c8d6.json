{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexm\\\\VsCodeProjects\\\\School Projects\\\\CEN\\\\SWE semester project\\\\SWE-OnTask\\\\frontend\\\\src\\\\context\\\\ClassContext.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useReducer, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ClassesContext = /*#__PURE__*/createContext();\nexport const ClassesReducer = (state, action) => {\n  switch (action.type) {\n    case 'CREATE_CLASS':\n      return { ...state,\n        classroom: action.payload\n      };\n    // Store the classroom in the context\n\n    default:\n      return state;\n  }\n};\n_c = ClassesReducer;\nexport const ClassesContextProvider = _ref => {\n  _s();\n\n  let {\n    children,\n    user\n  } = _ref;\n  const [state, dispatch] = useReducer(ClassesReducer, {\n    classroom: null\n  });\n  useEffect(() => {\n    if (user && user.classroom) {\n      // Fetch classroom data if it exists in user\n      fetchClassroom(user.classroom).then(classroom => {\n        dispatch({\n          type: 'CREATE_CLASS',\n          payload: classroom\n        });\n      }).catch(error => {\n        console.error('Failed to fetch classroom:', error);\n      });\n    }\n  }, [user]);\n\n  const fetchClassroom = async classroomId => {\n    const response = await fetch(`/api/classrooms/${classroomId}`);\n    const classroom = await response.json();\n    return classroom;\n  };\n\n  return /*#__PURE__*/_jsxDEV(ClassesContext.Provider, {\n    value: { ...state,\n      dispatch\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ClassesContextProvider, \"JAgSJxfk4JZ/pOTBVOyEKoUjzy8=\");\n\n_c2 = ClassesContextProvider;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ClassesReducer\");\n$RefreshReg$(_c2, \"ClassesContextProvider\");","map":{"version":3,"names":["createContext","useReducer","useEffect","ClassesContext","ClassesReducer","state","action","type","classroom","payload","ClassesContextProvider","children","user","dispatch","fetchClassroom","then","catch","error","console","classroomId","response","fetch","json"],"sources":["C:/Users/alexm/VsCodeProjects/School Projects/CEN/SWE semester project/SWE-OnTask/frontend/src/context/ClassContext.js"],"sourcesContent":["import { createContext, useReducer, useEffect } from 'react';\r\n\r\nexport const ClassesContext = createContext();\r\n\r\nexport const ClassesReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'CREATE_CLASS':\r\n            return { ...state, classroom: action.payload }; // Store the classroom in the context\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const ClassesContextProvider = ({ children, user }) => {\r\n    const [state, dispatch] = useReducer(ClassesReducer, {\r\n        classroom: null,\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (user && user.classroom) {\r\n            // Fetch classroom data if it exists in user\r\n            fetchClassroom(user.classroom)\r\n                .then(classroom => {\r\n                    dispatch({ type: 'CREATE_CLASS', payload: classroom });\r\n                })\r\n                .catch(error => {\r\n                    console.error('Failed to fetch classroom:', error);\r\n                });\r\n        }\r\n    }, [user]);\r\n\r\n    const fetchClassroom = async (classroomId) => {\r\n        const response = await fetch(`/api/classrooms/${classroomId}`);\r\n        const classroom = await response.json();\r\n        return classroom;\r\n    };\r\n\r\n    return (\r\n        <ClassesContext.Provider value={{ ...state, dispatch }}>\r\n            {children}\r\n        </ClassesContext.Provider>\r\n    );\r\n};\r\n"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,UAAxB,EAAoCC,SAApC,QAAqD,OAArD;;AAEA,OAAO,MAAMC,cAAc,gBAAGH,aAAa,EAApC;AAEP,OAAO,MAAMI,cAAc,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;EAC7C,QAAQA,MAAM,CAACC,IAAf;IACI,KAAK,cAAL;MACI,OAAO,EAAE,GAAGF,KAAL;QAAYG,SAAS,EAAEF,MAAM,CAACG;MAA9B,CAAP;IAAgD;;IACpD;MACI,OAAOJ,KAAP;EAJR;AAMH,CAPM;KAAMD,c;AASb,OAAO,MAAMM,sBAAsB,GAAG,QAAwB;EAAA;;EAAA,IAAvB;IAAEC,QAAF;IAAYC;EAAZ,CAAuB;EAC1D,MAAM,CAACP,KAAD,EAAQQ,QAAR,IAAoBZ,UAAU,CAACG,cAAD,EAAiB;IACjDI,SAAS,EAAE;EADsC,CAAjB,CAApC;EAIAN,SAAS,CAAC,MAAM;IACZ,IAAIU,IAAI,IAAIA,IAAI,CAACJ,SAAjB,EAA4B;MACxB;MACAM,cAAc,CAACF,IAAI,CAACJ,SAAN,CAAd,CACKO,IADL,CACUP,SAAS,IAAI;QACfK,QAAQ,CAAC;UAAEN,IAAI,EAAE,cAAR;UAAwBE,OAAO,EAAED;QAAjC,CAAD,CAAR;MACH,CAHL,EAIKQ,KAJL,CAIWC,KAAK,IAAI;QACZC,OAAO,CAACD,KAAR,CAAc,4BAAd,EAA4CA,KAA5C;MACH,CANL;IAOH;EACJ,CAXQ,EAWN,CAACL,IAAD,CAXM,CAAT;;EAaA,MAAME,cAAc,GAAG,MAAOK,WAAP,IAAuB;IAC1C,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,mBAAkBF,WAAY,EAAhC,CAA5B;IACA,MAAMX,SAAS,GAAG,MAAMY,QAAQ,CAACE,IAAT,EAAxB;IACA,OAAOd,SAAP;EACH,CAJD;;EAMA,oBACI,QAAC,cAAD,CAAgB,QAAhB;IAAyB,KAAK,EAAE,EAAE,GAAGH,KAAL;MAAYQ;IAAZ,CAAhC;IAAA,UACKF;EADL;IAAA;IAAA;IAAA;EAAA,QADJ;AAKH,CA7BM;;GAAMD,sB;;MAAAA,sB"},"metadata":{},"sourceType":"module"}